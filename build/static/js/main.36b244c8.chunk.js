(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{102:function(e,t,a){},107:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(16),i=a.n(s),o=(a(97),a(19)),r=(a(98),a(159)),l=a(57),d=l.a.initializeApp({apiKey:"AIzaSyAe3kaOn3GbOYgWozyzx40Dmyky5Rt2914",authDomain:"instagram-clone-react-227e8.firebaseapp.com",databaseURL:"https://instagram-clone-react-227e8-default-rtdb.firebaseio.com",projectId:"instagram-clone-react-227e8",storageBucket:"instagram-clone-react-227e8.appspot.com",messagingSenderId:"765276079710",appId:"1:765276079710:web:dd09fd85194dbbf89016cf"}).firestore(),j=l.a.auth(),m=l.a.storage(),u=a(53),p=a(151),b=a(147),O=(a(102),a(4));Object(b.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var h=function(e){var t=e.postID,a=e.user,c=e.username,s=e.image_url,i=e.caption,l=Object(n.useState)([]),j=Object(o.a)(l,2),m=j[0],b=j[1],h=Object(n.useState)(""),f=Object(o.a)(h,2),x=f[0],g=f[1],v=Object(n.useState)(null),_=Object(o.a)(v,2),N=_[0],y=_[1];return Object(n.useEffect)((function(){var e;return t&&(e=d.collection("posts").doc(t).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){b(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[t,a]),Object(n.useEffect)((function(){d.collection("posts").doc(t).collection("comments").get().then((function(e){y(e.size)}))}),[m]),Object(O.jsxs)("div",{className:"post animate__animated animate__slideInDown",children:[Object(O.jsxs)("div",{className:a?"header":"header-nouser",children:[Object(O.jsx)(r.a,{className:"avatar",children:"A"}),Object(O.jsx)("h5",{children:c}),a&&Object(O.jsx)(p.a,{onClick:function(){d.collection("posts").doc(t).delete().then((function(){alert("post deleted sucessfully")})).catch((function(e){alert("Error removing document: ",e)}))},className:"postHeader_button",color:"secondary",children:"Delete"})]}),Object(O.jsx)("div",{className:"post_container",children:Object(O.jsx)("img",{className:"post_image",src:s,alt:""})}),Object(O.jsxs)("p",{className:"post_caption",children:[Object(O.jsx)("strong",{className:"postUsername",children:c}),i]}),Object(O.jsxs)("h4",{className:"comment_text",children:["View all ",N," comments"]}),Object(O.jsx)("div",{className:"comment_post",children:m.map((function(e){return Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{className:"postUsername",children:e.username}),e.text]})}))}),a&&Object(O.jsxs)("form",{className:"comment_form",children:[Object(O.jsx)("input",{className:"comment_input",type:"text",value:x,placeholder:"enter a comment",onChange:function(e){return g(e.target.value)}}),Object(O.jsx)("button",{disabled:!x,className:"comment_button",type:"submit",onClick:function(e){e.preventDefault(),d.collection("posts").doc(t).collection("comments").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),text:x,username:a.displayName}),g("")},children:"Post"})]})]})},f=a(157),x=a(154),g=a(116),v=a(81),_=a(155),N=(a(107),a(158)),y=a(156);function w(e){return Object(O.jsx)(y.a,Object(v.a)({elevation:6,variant:"filled"},e))}var k=Object(b.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var C=function(e){var t=e.username,a=Object(n.useState)(""),s=Object(o.a)(a,2),i=s[0],r=s[1],l=Object(n.useState)(0),j=Object(o.a)(l,2),b=j[0],h=j[1],f=Object(n.useState)(null),x=Object(o.a)(f,2),g=x[0],v=x[1],y=k(),C=c.a.useState(!1),S=Object(o.a)(C,2),I=S[0],U=S[1];console.log("username \u2b50\ufe0f ",t);var D=function(e,t){"clickaway"!==t&&U(!1)};return Object(O.jsxs)("div",{className:"image_upload",children:[Object(O.jsx)("div",{className:y.root,children:Object(O.jsx)(N.a,{open:I,autoHideDuration:4e3,onClose:D,children:Object(O.jsx)(w,{onClose:D,severity:"success",children:"Upload Successfully Completed"})})}),Object(O.jsx)("progress",{className:"imageUpload_progress",value:b,max:"100"}),Object(O.jsx)(_.a,{id:"outlined-basic",variant:"outlined",className:"imageUpload_inputField",type:"text",placeholder:"enter a caption....",value:i,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("input",{className:"imageUpload_file",type:"file",onChange:function(e){e.target.files[0]&&v(e.target.files[0])}}),Object(O.jsx)(p.a,{className:"imageUpload_button",variant:"contained",color:"primary",onClick:function(){m.ref("images/".concat(g.name)).put(g).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);h(t)}),(function(e){alert(e.message)}),(function(){m.ref("images").child(g.name).getDownloadURL().then((function(e){d.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),caption:i,image_url:e,username:t}),h(0),r(""),v(null),alert("image uploaded sucessfully")}))}))},children:"Upload"})]})},S=a(74),I=(a(110),a(111),a(76)),U=a(77),D=a.n(U),F=a(61),A=a.n(F),B=a(62),T=a.n(B),P=a(78),z=a.n(P);var L=function(e){var t=e.like,a=e.comment;return Object(O.jsx)("div",{className:"videoFooter",children:Object(O.jsxs)("div",{className:"p-2 text-white d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(O.jsx)(r.a,{src:"https://www.macobserver.com/wp-content/uploads/2019/09/workfeatured-iOS-13-memoji.png"}),Object(O.jsxs)("div",{className:"d-flex ml-3 align-items-center",children:[Object(O.jsx)("p",{children:"Channel__name\xb7"}),Object(O.jsx)("button",{className:" font-weight-bold bg-transparent border-0 text-white",children:Object(O.jsx)("p",{children:"Follow"})})]})]}),Object(O.jsxs)("div",{className:"d-flex my-1 align-items-center",children:[Object(O.jsx)(D.a,{fontSize:""}),Object(O.jsx)("div",{className:"w-100",children:Object(O.jsx)(I.a,{children:function(e){e.index;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("p",{children:"song-----sample"})})}})})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(A.a,{}),Object(O.jsx)(T.a,{}),Object(O.jsx)(z.a,{})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(A.a,{fontSize:"small"}),Object(O.jsx)("p",{className:"my-3",children:t}),Object(O.jsx)(T.a,{className:"comment",fontSize:"small"}),Object(O.jsx)("p",{className:"my-3",children:a})]})]})]})})},R=(a(113),a(80)),E=a.n(R),W=a(79),H=a.n(W);var K=function(){return Object(O.jsxs)("div",{className:"videoHeader",children:[Object(O.jsx)(H.a,{}),Object(O.jsx)("h3",{children:"Reels"}),Object(O.jsx)(E.a,{})]})};var V=function(e){var t=e.video,a=e.like,c=e.comment,s=Object(n.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1],d=Object(n.useRef)(null);return Object(O.jsxs)("div",{className:"videoCard",children:[Object(O.jsx)(K,{}),Object(O.jsx)("video",{ref:d,onClick:function(){r?(d.current.pause(),l(!1)):(d.current.play(),l(!0))},className:"video__player",src:t,loop:!0}),Object(O.jsx)(L,{like:a,comment:c})]})},J=Object(b.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],borderRadius:"5px",padding:e.spacing(2,4,3)}}}));var M=function(){var e=J(),t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),r=Object(o.a)(i,2),l=r[0],m=r[1],u=Object(n.useState)(!1),b=Object(o.a)(u,2),v=b[0],_=b[1],N=Object(n.useState)(""),y=Object(o.a)(N,2),w=y[0],k=y[1],I=Object(n.useState)(""),U=Object(o.a)(I,2),D=U[0],F=U[1],A=Object(n.useState)(""),B=Object(o.a)(A,2),T=B[0],P=B[1],z=Object(n.useState)(null),L=Object(o.a)(z,2),R=L[0],E=L[1],W=Object(n.useState)(""),H=Object(o.a)(W,2),K=H[0],M=H[1];return Object(n.useEffect)((function(){var e=j.onAuthStateChanged((function(e){e?(console.log(e),E(e),M(e.displayName)):E(null)}));return function(){e()}}),[R]),console.log("\ud83d\udc7d",K),Object(n.useEffect)((function(){d.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)("div",{className:"app__header",children:Object(O.jsxs)("div",{className:"app__headerContainer container",children:[Object(O.jsx)("img",{className:"header_logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/840px-Instagram_logo.svg.png",alt:""}),R?Object(O.jsx)(p.a,{onClick:function(){return j.signOut()},variant:"",children:"Logout"}):Object(O.jsxs)("div",{className:"app__headerRight",children:[Object(O.jsx)(p.a,{onClick:function(){return _(!0)},variant:"",children:"Sign In"}),Object(O.jsx)(p.a,{onClick:function(){return m(!0)},variant:"",children:"Sign Up"})]})]})}),Object(O.jsx)(f.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:v,onClose:function(){return _(!1)},closeAfterTransition:!0,BackdropComponent:x.a,BackdropProps:{timeout:500},children:Object(O.jsx)(g.a,{in:v,children:Object(O.jsx)("div",{className:e.paper,children:Object(O.jsxs)("div",{className:"app__modal",children:[Object(O.jsx)("center",{children:Object(O.jsx)("img",{className:"app__insta",src:"https://download.logo.wine/logo/Instagram/Instagram-Wordmark-Logo.wine.png",alt:""})}),Object(O.jsxs)("form",{className:"app__form",children:[Object(O.jsx)("input",{placeholder:"email",type:"email",value:D,onChange:function(e){return F(e.target.value)}}),Object(O.jsx)("input",{placeholder:"password",type:"pass",value:T,onChange:function(e){return P(e.target.value)}}),Object(O.jsx)("center",{children:Object(O.jsx)(p.a,{type:"submit",onClick:function(e){e.preventDefault(),j.signInWithEmailAndPassword(D,T).catch((function(e){return alert(e.message)})),_(!1),F(""),P("")},color:"primary",children:"Sign In"})})]})]})})})}),Object(O.jsx)(f.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:l,onClose:function(){return m(!1)},closeAfterTransition:!0,BackdropComponent:x.a,BackdropProps:{timeout:500},children:Object(O.jsx)(g.a,{in:l,children:Object(O.jsx)("div",{className:e.paper,children:Object(O.jsxs)("div",{className:"app__modal",children:[Object(O.jsx)("center",{children:Object(O.jsx)("img",{className:"app__insta",src:"https://download.logo.wine/logo/Instagram/Instagram-Wordmark-Black-Logo.wine.png",alt:""})}),Object(O.jsxs)("form",{className:"app__form",children:[Object(O.jsx)("input",{placeholder:"username",type:"text",value:w,onChange:function(e){return k(e.target.value)}}),Object(O.jsx)("input",{placeholder:"email",type:"email",value:D,onChange:function(e){return F(e.target.value)}}),Object(O.jsx)("input",{placeholder:"password",type:"pass",value:T,onChange:function(e){return P(e.target.value)}}),Object(O.jsx)("center",{children:Object(O.jsx)(p.a,{type:"submit",onClick:function(e){e.preventDefault(),j.createUserWithEmailAndPassword(D,T).then((function(e){return e.user.updateProfile({displayName:w})})).catch((function(e){return alert(e.message)})),m(!1),F(""),P("")},color:"secondary",children:"sign up"})})]})]})})})}),Object(O.jsx)("div",{className:"app_posts container",children:Object(O.jsxs)("div",{className:"app__container justify-content-center d-flex",children:[Object(O.jsx)("div",{className:"appPost_left mr-md-5 ",children:c.map((function(e){var t=e.id,a=e.post;return Object(O.jsx)(h,{postID:t,user:R,username:a.username,image_url:a.image_url,caption:a.caption},t)}))}),Object(O.jsxs)("div",{className:"appPost_right ",children:[Object(O.jsx)("div",{className:"app__embed animate__delay-1s\t animate__animated animate__fadeInRight",children:Object(O.jsx)(S.a,{url:"https://www.instagram.com/p/CL7bHuwFpfI/",clientAccessToken:"3587860781312472|9aa2822eb0f1649a09d4c856ff34979a",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){console.log("embeded loaded sucessfully")}})}),Object(O.jsxs)("div",{className:"app__videos animate__delay-2s animate__animated animate__zoomIn",children:[Object(O.jsx)(V,{video:"thor.mp4",like:"566",comment:"10K"}),Object(O.jsx)(V,{video:"spiderman.mp4",like:"856",comment:"5K"}),Object(O.jsx)(V,{video:"ironman.mp4",like:"978",comment:"2K"})]})]})]})}),R?Object(O.jsx)("center",{children:Object(O.jsx)(C,{username:null==K?w:K})}):Object(O.jsx)("center",{children:Object(O.jsx)("div",{className:"noUser_comment",children:Object(O.jsx)("h5",{children:"You need to log in buddy\ud83d\udd25"})})})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,160)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};a(114);i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(M,{})}),document.getElementById("root")),Y()},97:function(e,t,a){},98:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.36b244c8.chunk.js.map